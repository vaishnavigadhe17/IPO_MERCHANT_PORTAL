<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:th="http://www.thymeleaf.org">
<head profile="http://gmpg.org/xfn/11">
<title>IPO On boarding Portal</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta http-equiv="imagetoolbar" content="no" />
<link rel="stylesheet" href="../styles/index.css" type="text/css" />
<link rel="stylesheet" href="../styles/bootstrap.min.css"
	type="text/css" />
<link rel="stylesheet" href="../styles/bootstrap-grid.min.css"
	type="text/css" />
<link rel="stylesheet" href="../styles/bootstrap-reboot.min.css"
	type="text/css" />
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css"/>
<link
	href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
	rel="stylesheet" />
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
<script src="../scripts/bootstrap.min.js" />
</head>
<body id="top">
<header id="header"
		class="fixed-top d-flex align-items-center shadow-lg p-3 mb-5 bg-white rounded">
	<div class="container d-flex justify-content-between">

		<h1 class="logo me-auto">
			<a href="index.html"><img src='../images/axis.png' width="60"
				height="60" class="d-inline-block align-bottom" alt="" /> AXIS
				Merchant Onboarding Portal</a>

		</h1>

		<!-- .navbar -->
		<nav id="navbar" class="navbar ">
		<ul>
			<li><b>Welcome,Sakshi!</b></li>
			<li><a th:href="@{/employee}" class="getstarted">Log Out<i
					class="bi bi-arrow-bar-right fa-lg"></i></a></li>
			<!-- <li><a href="index.html" class="getstarted">Home<i
					class="fa fa-home fa-xxl"></i></a></li> -->

		</ul>
		<i class="bi bi-list mobile-nav-toggle"></i> </nav>
</div>
</header>
	<!-- ####################################################################################################### -->

	<!-- <div class="wrapper row2">
		<div class="rnd">
			######
			<div id="topnav">
				<ul>
					<li class="active"><a th:href="@{/merchant/upload}">Upload</a></li>
					<li><a th:href="@{/merchant/viewFiles}">View Files</a></li>
					<li><a th:href="@{/merchant/addMerchant}">Add Merchant</a></li>
					<li><a th:href="@{/merchant/viewRequest}">View Request</a></li>
					<li><a th:href="@{/signout}">Sign Out</a></li>
				</ul>
			</div>
			######
		</div>
	</div> -->
	<br></br>
	<br></br>
	<br></br>
	<br></br>

	<ul class="nav nav-tabs justify-content-center">

		<li class="nav-item fade show active"><a class="nav-link "
			th:href="@{/merchant/upload}">Dashboard</a></li>
				<li class="nav-item fade show active"><a class="nav-link"
			th:href="@{/merchant/addMerchant}">Add Merchant</a></li>
		<li class="nav-item "><a class="nav-link btn-light"
			th:href="@{/merchant/viewFiles}">View Files</a></li>
	
		<li class="nav-item fade show active"><a class="nav-link"
			th:href="@{/merchant/viewRequest}">View Request</a></li>
		<!-- <li class="nav-item fade show active"><a class="nav-link" th:href="@{/signout}">Sign
				Out</a></li> -->
	</ul><br></br>
	<!-- ####################################################################################################### -->
	<div class="wrapper row3">
		<div class="rnd">
			<div id="container" class="clear">
				<!-- ####################################################################################################### -->
				<p class="merchant">List of Uploaded Records</p><br></br>

				<div th:switch="${uploads}" style="height: 300px; overflow: auto;">

					<h2 th:case="null">No Records Found!</h2>

					<div th:case="*">

						<table>

							<thead>

								<tr>
									<th>Sno</th>
									<th>Batch No</th>
									<th>File Name</th>
									<th>File Extension</th>
									<th>Message (Error/Success))</th>
									<th>Status (Failure/Success)</th>
									<th>Recorded Date</th>
									<th>Download</th>
								</tr>

							</thead>

							<tbody>

								<tr th:each="m, mstatus : ${uploads}">

									<td th:text="${mstatus.count}"></td>
									<td th:text="${m.uploadId}"></td>
									<td th:text="${m.file_name}"></td>
									<td th:text="${m.file_extension}"></td>
									<td th:text="${m.message}"></td>
									<td th:text="${m.status} ? 'Success' : 'Failure'"></td>
									<td th:text="${m.recordedDate}"></td>


									<td
										th:if="${m.message} != 'Uploaded By Merchant Creation Form'">
										<a
										th:href="@{/merchant/download/{filename}(filename=${m.file_full_name})}"><img
											src='../images/Download.png'></img></a>
									</td>

									<td
										th:if="${m.message} != 'Uploaded By Merchant Creation Form'">
										<p>-</p>
									</td>

								</tr>

								<tr th:if="${#lists.isEmpty(uploads)}">

									<td>&nbsp;</td>
									<td>&nbsp;</td>
									<td>&nbsp;</td>
									<td style="color: red;">No Record Found!</td>
									<td>&nbsp;</td>
									<td>&nbsp;</td>
									<td>&nbsp;</td>

								</tr>

							</tbody>

						</table>

					</div>

				</div>

			</div>

		</div>

	</div>

</body>

</html>
